{"ast":null,"code":"import _objectSpread from\"D:/projectsKATA/todo_list/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"D:/projectsKATA/todo_list/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"D:/projectsKATA/todo_list/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/projectsKATA/todo_list/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/projectsKATA/todo_list/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/projectsKATA/todo_list/node_modules/@babel/runtime/helpers/esm/createSuper.js\";/* eslint-disable no-plusplus */import React from'react';// eslint-disable-next-line import/no-extraneous-dependencies\nimport formatDistanceToNow from'date-fns/formatDistanceToNow';import Footer from'./footer';import NewTaskForm from'./new-task-form';import TaskList from'./task-list';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ToDo=/*#__PURE__*/function(_React$Component){_inherits(ToDo,_React$Component);var _super=_createSuper(ToDo);function ToDo(){var _this;_classCallCheck(this,ToDo);_this=_super.call(this);_this.maxId=100;_this.deleteItem=function(id){_this.setState(function(_ref){var todoData=_ref.todoData;var newArr=todoData.filter(function(el){return el.id!==id;});return{todoData:newArr};});};_this.addItem=function(taskText){var newItem=_this.createTodoItem(taskText);_this.setState(function(_ref2){var todoData=_ref2.todoData;var newArr=[newItem].concat(_toConsumableArray(todoData));return{todoData:newArr};});};_this.onToggleDone=function(id){_this.setState(function(_ref3){var todoData=_ref3.todoData;var idx=todoData.findIndex(function(el){return el.id===id;});var oldItem=todoData[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},{done:!oldItem.done});var newArr=[].concat(_toConsumableArray(todoData.slice(0,idx)),[newItem],_toConsumableArray(todoData.slice(idx+1)));return{todoData:newArr};});};_this.todoFilter=function(status){_this.setState({filterSelected:status});};_this.clearCompleted=function(){_this.setState(function(_ref4){var todoData=_ref4.todoData;var newArr=todoData.filter(function(el){return!el.done;});return{todoData:newArr};});};_this.newEditItem=function(id,value){_this.setState(function(_ref5){var todoData=_ref5.todoData;var idx=todoData.findIndex(function(el){return el.id===id;});var oldItem=todoData[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},{label:value});var newArr=[].concat(_toConsumableArray(todoData.slice(0,idx)),[newItem],_toConsumableArray(todoData.slice(idx+1)));return{todoData:newArr};});};_this.state={todoData:[],filterSelected:'all'};return _this;}_createClass(ToDo,[{key:\"createTodoItem\",value:function createTodoItem(label){return{label:label,id:this.maxId++,done:false,created:\"\".concat(formatDistanceToNow(new Date())),editing:false};}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,todoData=_this$state.todoData,filterSelected=_this$state.filterSelected;var doneCount=todoData.filter(function(el){return!el.done;}).length;var filteredArr=[];if(typeof filterSelected==='string'&&filterSelected.toLowerCase()==='all'){filteredArr=todoData;}else if(filterSelected){filteredArr=todoData.filter(function(el){return el.done;});}else{filteredArr=todoData.filter(function(el){return!el.done;});}return/*#__PURE__*/_jsxs(\"section\",{className:\"todoapp\",children:[/*#__PURE__*/_jsx(NewTaskForm,{onAdd:this.addItem}),/*#__PURE__*/_jsxs(\"section\",{className:\"main\",children:[/*#__PURE__*/_jsx(TaskList,{taskData:filteredArr,onDelete:this.deleteItem,onToggleDone:this.onToggleDone// onEdit={this.onEdit}\n,onAdd:this.addItem,newEditItem:this.newEditItem}),/*#__PURE__*/_jsx(Footer,{doneCount:doneCount,clearCompleted:this.clearCompleted,todoFilter:function todoFilter(status){return _this2.todoFilter(status);},filterSelected:filterSelected})]})]});}}]);return ToDo;}(React.Component);export{ToDo as default};","map":{"version":3,"names":["React","formatDistanceToNow","Footer","NewTaskForm","TaskList","jsx","_jsx","jsxs","_jsxs","ToDo","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","maxId","deleteItem","id","setState","_ref","todoData","newArr","filter","el","addItem","taskText","newItem","createTodoItem","_ref2","concat","_toConsumableArray","onToggleDone","_ref3","idx","findIndex","oldItem","_objectSpread","done","slice","todoFilter","status","filterSelected","clearCompleted","_ref4","newEditItem","value","_ref5","label","state","_createClass","key","created","Date","editing","render","_this2","_this$state","doneCount","length","filteredArr","toLowerCase","className","children","onAdd","taskData","onDelete","Component","default"],"sources":["D:/projectsKATA/todo_list/src/components/todo.js"],"sourcesContent":["/* eslint-disable no-plusplus */\nimport React from 'react';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport Footer from './footer';\nimport NewTaskForm from './new-task-form';\nimport TaskList from './task-list';\n\nexport default class ToDo extends React.Component {\n  maxId = 100;\n\n  constructor() {\n    super();\n    this.state = {\n      todoData: [],\n      filterSelected: 'all',\n    };\n  }\n\n  deleteItem = (id) => {\n    this.setState(({ todoData }) => {\n      const newArr = todoData.filter((el) => el.id !== id);\n      return {\n        todoData: newArr,\n      };\n    });\n  };\n\n  addItem = (taskText) => {\n    const newItem = this.createTodoItem(taskText);\n\n    this.setState(({ todoData }) => {\n      const newArr = [newItem, ...todoData];\n      return {\n        todoData: newArr,\n      };\n    });\n  };\n\n  onToggleDone = (id) => {\n    this.setState(({ todoData }) => {\n      const idx = todoData.findIndex((el) => el.id === id);\n\n      const oldItem = todoData[idx];\n      const newItem = { ...oldItem, done: !oldItem.done };\n\n      const newArr = [\n        ...todoData.slice(0, idx),\n        newItem,\n        ...todoData.slice(idx + 1),\n      ];\n      return {\n        todoData: newArr,\n      };\n    });\n  };\n\n  todoFilter = (status) => {\n    this.setState({\n      filterSelected: status,\n    });\n  };\n\n  clearCompleted = () => {\n    this.setState(({ todoData }) => {\n      const newArr = todoData.filter((el) => !el.done);\n      return {\n        todoData: newArr,\n      };\n    });\n  };\n\n  newEditItem = (id, value) => {\n    this.setState(({ todoData }) => {\n      const idx = todoData.findIndex((el) => el.id === id);\n      const oldItem = todoData[idx];\n      const newItem = { ...oldItem, label: value };\n      const newArr = [\n        ...todoData.slice(0, idx),\n        newItem,\n        ...todoData.slice(idx + 1),\n      ];\n\n      return {\n        todoData: newArr,\n      };\n    });\n  };\n\n  createTodoItem(label) {\n    return {\n      label,\n      id: this.maxId++,\n      done: false,\n      created: `${formatDistanceToNow(new Date())}`,\n      editing: false,\n    };\n  }\n\n  render() {\n    const { todoData, filterSelected } = this.state;\n    const doneCount = todoData.filter((el) => !el.done).length;\n    let filteredArr = [];\n    if (\n      typeof filterSelected === 'string'\n      && filterSelected.toLowerCase() === 'all'\n    ) {\n      filteredArr = todoData;\n    } else if (filterSelected) {\n      filteredArr = todoData.filter((el) => el.done);\n    } else {\n      filteredArr = todoData.filter((el) => !el.done);\n    }\n    return (\n      <section className=\"todoapp\">\n        <NewTaskForm onAdd={this.addItem} />\n        <section className=\"main\">\n          <TaskList\n            taskData={filteredArr}\n            onDelete={this.deleteItem}\n            onToggleDone={this.onToggleDone}\n            // onEdit={this.onEdit}\n            onAdd={this.addItem}\n            newEditItem={this.newEditItem}\n          />\n          <Footer\n            doneCount={doneCount}\n            clearCompleted={this.clearCompleted}\n            todoFilter={(status) => this.todoFilter(status)}\n            filterSelected={filterSelected}\n          />\n        </section>\n      </section>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}