{"ast":null,"code":"var _jsxFileName = \"D:\\\\projectsKATA\\\\todo_list\\\\src\\\\components\\\\todo.js\";\n/* eslint-disable no-plusplus */\nimport React from 'react';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport Footer from './footer';\nimport NewTaskForm from './new-task-form';\nimport TaskList from './task-list';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ToDo extends React.Component {\n  constructor() {\n    super();\n    this.maxId = 100;\n    this.deleteItem = id => {\n      this.setState(_ref => {\n        let {\n          todoData\n        } = _ref;\n        const newArr = todoData.filter(el => el.id !== id);\n        return {\n          todoData: newArr\n        };\n      });\n    };\n    this.addItem = taskText => {\n      const newItem = this.createTodoItem(taskText);\n      this.setState(_ref2 => {\n        let {\n          todoData\n        } = _ref2;\n        const newArr = [newItem, ...todoData];\n        return {\n          todoData: newArr\n        };\n      });\n    };\n    this.onToggleDone = id => {\n      this.setState(_ref3 => {\n        let {\n          todoData\n        } = _ref3;\n        const idx = todoData.findIndex(el => el.id === id);\n        const oldItem = todoData[idx];\n        const newItem = {\n          ...oldItem,\n          done: !oldItem.done\n        };\n        const newArr = [...todoData.slice(0, idx), newItem, ...todoData.slice(idx + 1)];\n        return {\n          todoData: newArr\n        };\n      });\n    };\n    this.todoFilter = status => {\n      this.setState({\n        filterSelected: status\n      });\n    };\n    this.clearCompleted = () => {\n      this.setState(_ref4 => {\n        let {\n          todoData\n        } = _ref4;\n        const newArr = todoData.filter(el => !el.done);\n        return {\n          todoData: newArr\n        };\n      });\n    };\n    this.newEditItem = (id, value) => {\n      this.setState(_ref5 => {\n        let {\n          todoData\n        } = _ref5;\n        const idx = todoData.findIndex(el => el.id === id);\n        const oldItem = todoData[idx];\n        const newItem = {\n          ...oldItem,\n          label: value\n        };\n        const newArr = [...todoData.slice(0, idx), newItem, ...todoData.slice(idx + 1)];\n        return {\n          todoData: newArr\n        };\n      });\n    };\n    this.getMinSec = (min, sec) => {\n      this.setState({\n        min,\n        sec\n      });\n    };\n    this.state = {\n      todoData: [],\n      filterSelected: 'all',\n      min: 0,\n      sec: 0\n    };\n  }\n  createTodoItem(label) {\n    return {\n      label,\n      id: this.maxId++,\n      done: false,\n      created: `${formatDistanceToNow(new Date())}`,\n      editing: false\n    };\n  }\n  render() {\n    const {\n      todoData,\n      filterSelected,\n      min,\n      sec\n    } = this.state;\n    const doneCount = todoData.filter(el => !el.done).length;\n    let filteredArr = [];\n    if (typeof filterSelected === 'string' && filterSelected.toLowerCase() === 'all') {\n      filteredArr = todoData;\n    } else if (filterSelected) {\n      filteredArr = todoData.filter(el => el.done);\n    } else {\n      filteredArr = todoData.filter(el => !el.done);\n    }\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"todoapp\",\n      children: [/*#__PURE__*/_jsxDEV(NewTaskForm, {\n        onAdd: this.addItem,\n        getMinSec: this.getMinSec\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(TaskList, {\n          min: min,\n          sec: sec,\n          getMinsec: this.getMinSec,\n          taskData: filteredArr,\n          onDelete: this.deleteItem,\n          onToggleDone: this.onToggleDone\n          // onEdit={this.onEdit}\n          ,\n          onAdd: this.addItem,\n          newEditItem: this.newEditItem\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {\n          doneCount: doneCount,\n          clearCompleted: this.clearCompleted,\n          todoFilter: status => this.todoFilter(status),\n          filterSelected: filterSelected\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this);\n  }\n}\nToDo.defaultProps = {\n  min: 0\n};\nToDo.propTypes = {\n  min: PropTypes.number\n};","map":{"version":3,"names":["React","formatDistanceToNow","Footer","NewTaskForm","TaskList","jsxDEV","_jsxDEV","ToDo","Component","constructor","maxId","deleteItem","id","setState","_ref","todoData","newArr","filter","el","addItem","taskText","newItem","createTodoItem","_ref2","onToggleDone","_ref3","idx","findIndex","oldItem","done","slice","todoFilter","status","filterSelected","clearCompleted","_ref4","newEditItem","value","_ref5","label","getMinSec","min","sec","state","created","Date","editing","render","doneCount","length","filteredArr","toLowerCase","className","children","onAdd","fileName","_jsxFileName","lineNumber","columnNumber","getMinsec","taskData","onDelete","defaultProps","propTypes","PropTypes","number"],"sources":["D:/projectsKATA/todo_list/src/components/todo.js"],"sourcesContent":["/* eslint-disable no-plusplus */\nimport React from 'react';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport Footer from './footer';\nimport NewTaskForm from './new-task-form';\nimport TaskList from './task-list';\n\nexport default class ToDo extends React.Component {\n  maxId = 100;\n\n  constructor() {\n    super();\n    this.state = {\n      todoData: [],\n      filterSelected: 'all',\n      min: 0,\n      sec: 0,\n    };\n  }\n\n  deleteItem = (id) => {\n    this.setState(({ todoData }) => {\n      const newArr = todoData.filter((el) => el.id !== id);\n      return {\n        todoData: newArr,\n      };\n    });\n  };\n\n  addItem = (taskText) => {\n    const newItem = this.createTodoItem(taskText);\n\n    this.setState(({ todoData }) => {\n      const newArr = [newItem, ...todoData];\n      return {\n        todoData: newArr,\n      };\n    });\n  };\n\n  onToggleDone = (id) => {\n    this.setState(({ todoData }) => {\n      const idx = todoData.findIndex((el) => el.id === id);\n\n      const oldItem = todoData[idx];\n      const newItem = { ...oldItem, done: !oldItem.done };\n\n      const newArr = [\n        ...todoData.slice(0, idx),\n        newItem,\n        ...todoData.slice(idx + 1),\n      ];\n      return {\n        todoData: newArr,\n      };\n    });\n  };\n\n  todoFilter = (status) => {\n    this.setState({\n      filterSelected: status,\n    });\n  };\n\n  clearCompleted = () => {\n    this.setState(({ todoData }) => {\n      const newArr = todoData.filter((el) => !el.done);\n      return {\n        todoData: newArr,\n      };\n    });\n  };\n\n  newEditItem = (id, value) => {\n    this.setState(({ todoData }) => {\n      const idx = todoData.findIndex((el) => el.id === id);\n      const oldItem = todoData[idx];\n      const newItem = { ...oldItem, label: value };\n      const newArr = [\n        ...todoData.slice(0, idx),\n        newItem,\n        ...todoData.slice(idx + 1),\n      ];\n\n      return {\n        todoData: newArr,\n      };\n    });\n  };\n\n  getMinSec = (min, sec) => {\n    this.setState({ min, sec });\n  };\n\n  createTodoItem(label) {\n    return {\n      label,\n      id: this.maxId++,\n      done: false,\n      created: `${formatDistanceToNow(new Date())}`,\n      editing: false,\n    };\n  }\n\n  render() {\n    const {\n      todoData, filterSelected, min, sec,\n    } = this.state;\n    const doneCount = todoData.filter((el) => !el.done).length;\n    let filteredArr = [];\n    if (\n      typeof filterSelected === 'string'\n      && filterSelected.toLowerCase() === 'all'\n    ) {\n      filteredArr = todoData;\n    } else if (filterSelected) {\n      filteredArr = todoData.filter((el) => el.done);\n    } else {\n      filteredArr = todoData.filter((el) => !el.done);\n    }\n    return (\n      <section className=\"todoapp\">\n        <NewTaskForm onAdd={this.addItem} getMinSec={this.getMinSec} />\n        <section className=\"main\">\n          <TaskList\n            min={min}\n            sec={sec}\n            getMinsec={this.getMinSec}\n            taskData={filteredArr}\n            onDelete={this.deleteItem}\n            onToggleDone={this.onToggleDone}\n            // onEdit={this.onEdit}\n            onAdd={this.addItem}\n            newEditItem={this.newEditItem}\n          />\n          <Footer\n            doneCount={doneCount}\n            clearCompleted={this.clearCompleted}\n            todoFilter={(status) => this.todoFilter(status)}\n            filterSelected={filterSelected}\n          />\n        </section>\n      </section>\n    );\n  }\n}\nToDo.defaultProps = {\n  min: 0,\n};\nToDo.propTypes = {\n  min: PropTypes.number\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}